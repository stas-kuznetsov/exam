pipeline {
agent any
stages {

// stage('Fortify Update') {
// steps {
// fortifyUpdate updateServerURL: 'https://update.fortify.com'
// }
// }

// stage('Fortify Clean') {
// steps {
// fortifyClean buildID: 'MyJavaApp',
// logFile: 'MyJavaAppFortify.log'
// }
// }

        stage('Git commit') {
            steps {
                echo 'Start Git clone'
                sh 'git clone https://github.com/stas-kuznetsov/epam_source.git '
     //           sh 'docker tag spring-petclinic:2.7.0-SNAPSHOT docker:5000/petclinic:v$BUILD_NUMBER'
                echo 'End Git clone'
            }
        }

stage('Fortify Translate') {
steps {
fortifyTranslate buildID: 'https://github.com/stas-kuznetsov/epam_source.git',
logFile: 'MyJavaApp-translate.log',
projectScanType: fortifyJava(javaSrcFiles:
'src/main/java/org/springframework/samples/petclinic/', javaVersion: '1.8')
}
}

stage('Fortify Scan') {
steps {
fortifyScan buildID: 'https://github.com/stas-kuznetsov/epam_source.git',
resultsFile: 'MyJavaApp.fpr',
// customRulepacks: 'MyRules.xml',
logFile: 'MyJavaApp-scan.log'
}
}

}
}
